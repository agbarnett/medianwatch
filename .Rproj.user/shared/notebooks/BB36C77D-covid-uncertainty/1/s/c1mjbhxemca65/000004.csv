"0","load('data/all_results_vary.RData') # micro-simulation results with varying parameters"
"0","# convert to cumulative across days"
"0","times = group_by(transitions, simnum, To, transitionTime) %>%"
"0","  summarise(n=n()) %>%"
"0","  arrange(simnum, To, transitionTime) %>%"
"0","  group_by(simnum, To) %>%"
"0","  mutate(cum = cumsum(n),"
"0","         day = as.numeric(transitionTime - min(transitionTime)),"
"0","         ToNice = factor(To, levels=c('E','I1','I2','I3','R','D','dead'), # make nicer labels"
"0","                         labels = c('Exposed','Mild infection','Severe infection','Critical infection','Recovered','Died - COVID','Died - Other'))) %>%"
"0","  ungroup()"
"0","colours = grey(runif(50, 0.2, 0.8))"
"0","cplot = ggplot(data=times, aes(x=day, y=cum, group=factor(simnum), col=factor(simnum)))+"
"0","  geom_step(size=0.5)+"
"0","  scale_color_manual(NULL, values=colours)+"
"0","  xlab('Day')+"
"0","  ylab('Cumulative number')+"
"0","  coord_cartesian(xlim=c(0,150))+"
"0","  facet_wrap(~ToNice, scales='free_y')+"
"0","  theme_bw()+"
"0","  theme(legend.position = 'none')"
"0","cplot"
